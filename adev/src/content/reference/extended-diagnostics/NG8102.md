<!-- ia-translate: true -->
# Nullish coalescing não é nullable

Este diagnóstico detecta um operador nullish coalescing \(`??`\) inútil em templates do Angular.
Especificamente, ele procura por operações onde a entrada não é "nullable", o que significa que seu tipo não inclui `null` ou `undefined`.
Para tais valores, o lado direito do `??` nunca será usado.

<docs-code language="typescript">

import {Component} from '@angular/core';

@Component({
// Template exibe `username` se presente, volta para 'root' se for
// `null` ou `undefined`.
template: `<div>{{ username ?? 'root' }}</div>`,
})
class MyComponent {
// `username` é declarado como `string` que _não pode_ ser `null` ou
// `undefined`.
username: string = 'Angelino';
}

</docs-code>

## Qual é o problema?

Usar o operador nullish coalescing com uma entrada não-nullable não tem efeito e é indicativo de uma discrepância entre o tipo permitido de um valor e como ele é apresentado no template.
Um desenvolvedor pode razoavelmente assumir que o lado direito do operador nullish coalescing é exibido em algum caso, mas ele nunca será realmente exibido.
Isso pode levar a confusão sobre a saída esperada do programa.

## O que devo fazer em vez disso?

Atualize o template e o tipo declarado para estarem sincronizados.
Verifique novamente o tipo da entrada e confirme se é realmente esperado que seja nullable.

Se a entrada deve ser nullable, adicione `null` ou `undefined` ao seu tipo para indicar isso.

<docs-code language="typescript">

import {Component} from '@angular/core';

@Component({
template: `<div>{{ username ?? 'root' }}</div>`,
})
class MyComponent {
// `username` agora é nullable. Se for definido como `null`, 'root' será
// exibido.
username: string | null = 'Angelino';
}

</docs-code>

Se a entrada _não_ deve ser nullable, delete o operador `??` e seu operando direito, já que o valor é garantido pelo TypeScript como sempre não-nullable.

<docs-code language="typescript">

import {Component} from '@angular/core';

@Component({
// Template sempre exibe `username`, que é garantido nunca ser `null`
// ou `undefined`.
template: `<div>{{ username }}</div>`,
})
class MyComponent {
username: string = 'Angelino';
}

</docs-code>

## Requisitos de configuração

[`strictTemplates`](tools/cli/template-typecheck#strict-mode) deve estar habilitado para que qualquer diagnóstico estendido seja emitido.
[`strictNullChecks`](tools/cli/template-typecheck#strict-null-checks) também deve estar habilitado para emitir diagnósticos `nullishCoalescingNotNullable`.

## E se eu não puder evitar isso?

Este diagnóstico pode ser desabilitado editando o arquivo `tsconfig.json` do projeto:

<docs-code language="json">
{
  "angularCompilerOptions": {
    "extendedDiagnostics": {
      "checks": {
        "nullishCoalescingNotNullable": "suppress"
      }
    }
  }
}
</docs-code>

Veja [configuração de diagnósticos estendidos](extended-diagnostics#configuration) para mais informações.
