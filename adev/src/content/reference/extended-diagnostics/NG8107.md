<!-- ia-translate: true -->
# Optional chain não anulável

Este diagnóstico detecta quando o lado esquerdo de uma operação de optional chain (`.?`) não inclui `null` ou `undefined` em seu tipo em templates Angular.

```typescript
import { Component } from '@angular/core';

@Component({
  // Imprime o nome do usuário com segurança, mesmo se `user` for `null` ou `undefined`.
  template: `<div>User name: {{ user?.name }}</div>`,
})
class MyComponent {
  // `user` é declarado como um objeto que _não pode_ ser `null` ou `undefined`.
  user: { name: string } = { name: 'Angelino' };
}
```

## Qual é o problema?

Usar o operador de optional chain com uma entrada não anulável não tem nenhum efeito e é indicativo de uma discrepância entre o tipo permitido de um valor e como ele é apresentado no template.
Um desenvolvedor pode razoavelmente assumir que a saída do operador de optional chain poderia ser `null` ou `undefined`, mas na verdade nunca será nenhum desses valores.
Isso pode levar a confusão sobre a saída esperada do programa.

## O que devo fazer em vez disso?

Atualize o template e o tipo declarado para estarem sincronizados.
Verifique novamente o tipo da entrada e confirme se ela realmente deve ser anulável.

Se a entrada deve ser anulável, adicione `null` ou `undefined` ao seu tipo para indicar isso.

```typescript
import { Component } from '@angular/core';

@Component({
  // Se `user` for nulo, `name` não será avaliado e a expressão retornará
  // o valor nulo (`null` ou `undefined`).
  template: `<div>{{ user?.name }}</div>`,
})
class MyComponent {
  user: { name: string } | null = { name: 'Angelino' };
}
```

Se a entrada não deve ser anulável, delete o operador `?`.

```typescript
import { Component } from '@angular/core';

@Component({
  // Template sempre exibe `name` pois `user` tem garantia de nunca ser `null`
  // ou `undefined`.
  template: `<div>{{ foo.bar }}</div>`,
})
class MyComponent {
  user: { name: string } = { name: 'Angelino' };
}
```

## Requisitos de configuração

[`strictTemplates`](tools/cli/template-typecheck#strict-mode) deve estar ativado para que qualquer diagnóstico estendido seja emitido.
[`strictNullChecks`](tools/cli/template-typecheck#strict-null-checks) também deve estar ativado para emitir diagnósticos `optionalChainNotNullable`.

## E se eu não puder evitar isso?

Este diagnóstico pode ser desativado editando o arquivo `tsconfig.json` do projeto:

<docs-code language="json">
{
  "angularCompilerOptions": {
    "extendedDiagnostics": {
      "checks": {
        "optionalChainNotNullable": "suppress"
      }
    }
  }
}
</docs-code>

Veja [configuração de diagnósticos estendidos](extended-diagnostics#configuration) para mais informações.
